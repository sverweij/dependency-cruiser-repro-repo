<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
      .node:hover path,
      .node.current path,
      .node:active polygon,
      .node:hover polygon,
      .node.current polygon
       {
        stroke: fuchsia;
        stroke-width: 2;
      }
      .edge:active path,
      .edge:hover path,
      .edge.current path,
      .edge:active ellipse,
      .edge:hover ellipse,
      .edge.current ellipse {
        stroke: fuchsia;
        stroke-width: 3;
        stroke-opacity: 1;
      }
      .edge:active polygon,
      .edge:hover polygon,
      .edge.current polygon {
        stroke: fuchsia;
        stroke-width: 3;
        fill: fuchsia;
        stroke-opacity: 1;
        fill-opacity: 1;
      }
      .edge:active text,
      .edge:hover text {
        fill: fuchsia;
      }
      .cluster path {
        stroke-width: 3;
      }
      .cluster:active path,
      .cluster:hover path {
        fill: #ffff0011;
      }
    </style>
  </head>
  <body>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.49.0 (20210828.1703)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="215pt" height="200pt"
 viewBox="0.00 0.00 215.00 200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 196)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-196 211,-196 211,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_src</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M20,-8C20,-8 187,-8 187,-8 193,-8 199,-14 199,-20 199,-20 199,-172 199,-172 199,-178 193,-184 187,-184 187,-184 20,-184 20,-184 14,-184 8,-178 8,-172 8,-172 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="103.5" y="-172.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_src/elements</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M104,-106C104,-106 165,-106 165,-106 171,-106 177,-112 177,-118 177,-118 177,-146 177,-146 177,-152 171,-158 165,-158 165,-158 104,-158 104,-158 98,-158 92,-152 92,-146 92,-146 92,-118 92,-118 92,-112 98,-106 104,-106"/>
<text text-anchor="middle" x="134.5" y="-146.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">elements</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_src/helpers</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M90,-16C90,-16 179,-16 179,-16 185,-16 191,-22 191,-28 191,-28 191,-86 191,-86 191,-92 185,-98 179,-98 179,-98 90,-98 90,-98 84,-98 78,-92 78,-86 78,-86 78,-28 78,-28 78,-22 84,-16 90,-16"/>
<text text-anchor="middle" x="134.5" y="-86.8" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">helpers</text>
</g>
<!-- src/elements/RecoilUtils.ts -->
<g id="node1" class="node">
<title>src/elements/RecoilUtils.ts</title>
<g id="a_node1"><a xlink:href="src/elements/RecoilUtils.ts" xlink:title="RecoilUtils.ts">
<path fill="#ddfeff" stroke="black" d="M163,-132C163,-132 106,-132 106,-132 103,-132 100,-129 100,-126 100,-126 100,-120 100,-120 100,-117 103,-114 106,-114 106,-114 163,-114 163,-114 166,-114 169,-117 169,-120 169,-120 169,-126 169,-126 169,-129 166,-132 163,-132"/>
<text text-anchor="middle" x="134.5" y="-120.8" font-family="Helvetica,sans-Serif" font-size="9.00">RecoilUtils.ts</text>
</a>
</g>
</g>
<!-- src/file1.ts -->
<g id="node2" class="node">
<title>src/file1.ts</title>
<g id="a_node2"><a xlink:href="src/file1.ts" xlink:title="file1.ts">
<path fill="#ddfeff" stroke="black" d="M64,-158C64,-158 22,-158 22,-158 19,-158 16,-155 16,-152 16,-152 16,-146 16,-146 16,-143 19,-140 22,-140 22,-140 64,-140 64,-140 67,-140 70,-143 70,-146 70,-146 70,-152 70,-152 70,-155 67,-158 64,-158"/>
<text text-anchor="middle" x="43" y="-146.8" font-family="Helvetica,sans-Serif" font-size="9.00">file1.ts</text>
</a>
</g>
</g>
<!-- src/file1.ts&#45;&gt;src/elements/RecoilUtils.ts -->
<g id="edge1" class="edge">
<title>src/file1.ts&#45;&gt;src/elements/RecoilUtils.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M70.37,-141.34C78.5,-138.98 87.6,-136.33 96.32,-133.8"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="97.09,-135.76 102.27,-132.07 95.92,-131.73 97.09,-135.76"/>
</g>
<!-- src/file2.ts -->
<g id="node3" class="node">
<title>src/file2.ts</title>
<g id="a_node3"><a xlink:href="src/file2.ts" xlink:title="file2.ts">
<path fill="#ddfeff" stroke="black" d="M64,-128C64,-128 22,-128 22,-128 19,-128 16,-125 16,-122 16,-122 16,-116 16,-116 16,-113 19,-110 22,-110 22,-110 64,-110 64,-110 67,-110 70,-113 70,-116 70,-116 70,-122 70,-122 70,-125 67,-128 64,-128"/>
<text text-anchor="middle" x="43" y="-116.8" font-family="Helvetica,sans-Serif" font-size="9.00">file2.ts</text>
</a>
</g>
</g>
<!-- src/file2.ts&#45;&gt;src/elements/RecoilUtils.ts -->
<g id="edge2" class="edge">
<title>src/file2.ts&#45;&gt;src/elements/RecoilUtils.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M70.37,-120.18C77.76,-120.51 85.97,-120.88 93.95,-121.23"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="93.91,-123.33 100,-121.5 94.1,-119.14 93.91,-123.33"/>
</g>
<!-- src/file3.ts -->
<g id="node4" class="node">
<title>src/file3.ts</title>
<g id="a_node4"><a xlink:href="src/file3.ts" xlink:title="no&#45;orphans">
<path fill="#ccffcc" stroke="orange" d="M64,-98C64,-98 22,-98 22,-98 19,-98 16,-95 16,-92 16,-92 16,-86 16,-86 16,-83 19,-80 22,-80 22,-80 64,-80 64,-80 67,-80 70,-83 70,-86 70,-86 70,-92 70,-92 70,-95 67,-98 64,-98"/>
<text text-anchor="middle" x="43" y="-86.8" font-family="Helvetica,sans-Serif" font-size="9.00" fill="orange">file3.ts</text>
</a>
</g>
</g>
<!-- src/file4.ts -->
<g id="node5" class="node">
<title>src/file4.ts</title>
<g id="a_node5"><a xlink:href="src/file4.ts" xlink:title="file4.ts">
<path fill="#ddfeff" stroke="black" d="M64,-68C64,-68 22,-68 22,-68 19,-68 16,-65 16,-62 16,-62 16,-56 16,-56 16,-53 19,-50 22,-50 22,-50 64,-50 64,-50 67,-50 70,-53 70,-56 70,-56 70,-62 70,-62 70,-65 67,-68 64,-68"/>
<text text-anchor="middle" x="43" y="-56.8" font-family="Helvetica,sans-Serif" font-size="9.00">file4.ts</text>
</a>
</g>
</g>
<!-- src/file4.ts&#45;&gt;src/elements/RecoilUtils.ts -->
<g id="edge3" class="edge">
<title>src/file4.ts&#45;&gt;src/elements/RecoilUtils.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M63.76,-68.15C66.09,-69.85 68.26,-71.79 70,-74 77.75,-83.83 69.55,-91.76 78,-101 82.5,-105.92 88.24,-109.76 94.31,-112.74"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="93.63,-114.73 99.96,-115.25 95.33,-110.9 93.63,-114.73"/>
</g>
<!-- src/helpers/current.ts -->
<g id="node6" class="node">
<title>src/helpers/current.ts</title>
<g id="a_node6"><a xlink:href="src/helpers/current.ts" xlink:title="current.ts">
<path fill="#ddfeff" stroke="black" d="M155.5,-72C155.5,-72 113.5,-72 113.5,-72 110.5,-72 107.5,-69 107.5,-66 107.5,-66 107.5,-60 107.5,-60 107.5,-57 110.5,-54 113.5,-54 113.5,-54 155.5,-54 155.5,-54 158.5,-54 161.5,-57 161.5,-60 161.5,-60 161.5,-66 161.5,-66 161.5,-69 158.5,-72 155.5,-72"/>
<text text-anchor="middle" x="134.5" y="-60.8" font-family="Helvetica,sans-Serif" font-size="9.00">current.ts</text>
</a>
</g>
</g>
<!-- src/file4.ts&#45;&gt;src/helpers/current.ts -->
<g id="edge4" class="edge">
<title>src/file4.ts&#45;&gt;src/helpers/current.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M70.37,-60.18C80.02,-60.61 91.05,-61.1 101.16,-61.55"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="101.23,-63.66 107.32,-61.83 101.42,-59.46 101.23,-63.66"/>
</g>
<!-- src/helpers/schemasMethods.ts -->
<g id="node7" class="node">
<title>src/helpers/schemasMethods.ts</title>
<g id="a_node7"><a xlink:href="src/helpers/schemasMethods.ts" xlink:title="schemasMethods.ts">
<path fill="#ddfeff" stroke="black" d="M177,-42C177,-42 92,-42 92,-42 89,-42 86,-39 86,-36 86,-36 86,-30 86,-30 86,-27 89,-24 92,-24 92,-24 177,-24 177,-24 180,-24 183,-27 183,-30 183,-30 183,-36 183,-36 183,-39 180,-42 177,-42"/>
<text text-anchor="middle" x="134.5" y="-30.8" font-family="Helvetica,sans-Serif" font-size="9.00">schemasMethods.ts</text>
</a>
</g>
</g>
<!-- src/file4.ts&#45;&gt;src/helpers/schemasMethods.ts -->
<g id="edge5" class="edge">
<title>src/file4.ts&#45;&gt;src/helpers/schemasMethods.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M70.32,-50.34C72.91,-49.54 75.5,-48.74 78,-48 82.88,-46.55 88.02,-45.08 93.13,-43.66"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="93.86,-45.64 99.08,-42.02 92.74,-41.59 93.86,-45.64"/>
</g>
</g>
</svg>
<script>document.body.onmouseover = getHighlightHandler();

function getHighlightHandler() {
  /** @type {string} */
  var currentHighlightedTitle;

  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  var title2ElementMap = new Title2ElementMap(edges, nodes);

  /** @param {MouseEvent} pMouseEvent */
  return function highlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (!(currentHighlightedTitle === closestTitleText)) {
      title2ElementMap.get(currentHighlightedTitle).forEach(removeHighlight);
      title2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}
</script>  </body>
</html>
